This is an npi module.

Run 
    npm install
to Install

Run
    node <scriptname>.js
    
Scripts:

1. Add IG to FHIR.  To Execute:
    node add_ig_to_fhir_store.js

Adds specfied IMPLEMENTATION_GUIDE to FHIR Store.  Having IG resources stored on the FHIR Server enables Profile Validation on a given FHIR Store in the Google Cloud. ImplemetationGuides are downloadable distributions that contain a known file strucuture that defines the IGs data structure.

This file structure consists of JSON files for the following structural profile FHIR Resources: 
  Implemetation Guide
  Structured Definitions, 
  Code Systems, 
  Capability Statements, 
  Value Sets,
  CodeMaps,
The script parses through the specified IG_FOLDER (configured in the script) and organizes the resources into arrays
The script uploads each resource to the FHIR sTORE (configured in the script) with a POST Command to the Resource endpoint.

Note:  Profile Validation might require Structure Definitions from Other IGs.  For example Carin validation requires that USCore Structured Definitions for race , ethnicity, and birthsex be added.

2.  Add FHIR Bundles to FHIR.  To Execute:
    node add_bundle.js
This script adds FHIR Bundles to a FHIR Store via an import.  The library supports converstion to NDJSON to minimize file size.  The first script generically 
uploads data from a folder location to Google Cloud Storage and then executes an Import task to import the files from the bucket.  The script waits until the import taks is completed.  This script is tested with resources generated by MITRE Synthea.



  
